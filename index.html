<!DOCTYPE html>
<html class="antialiased" lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Jae's Briefing - ì™¸ì‹  ë¸Œë¦¬í•‘</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Serif+KR:wght@400;700;900&family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#0f0f0f",
                        "background-light": "#ffffff",
                        "background-dark": "#0f0f0f",
                        "surface-light": "#f8f9fa",
                        "surface-dark": "#1a1a1a",
                        "border-light": "#e5e7eb",
                        "border-dark": "#2a2a2a",
                        "accent-red": "#dc2626",
                        "accent-blue": "#2563eb",
                        "accent-green": "#16a34a",
                        "accent-purple": "#7c3aed",
                        "accent-gold": "#f59e0b",
                    },
                    fontFamily: {
                        serif: ["'Noto Serif KR'", "'Playfair Display'", "serif"],
                        sans: ["'Inter'", "sans-serif"],
                    },
                },
            },
        };
    </script>
    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-gray-900 dark:text-gray-100 transition-colors duration-300 font-sans">

<!-- Header -->
<header class="bg-primary text-white sticky top-0 z-50 shadow-md">
    <div class="container mx-auto px-4 h-14 flex items-center justify-between">
        <div class="flex items-center gap-6">
            <a class="text-2xl font-serif font-black tracking-tight" href="index.html">
                <span class="text-white">Jae's</span>
                <span class="text-gray-400 italic">Briefing</span>
            </a>
            <nav class="hidden lg:flex items-center gap-5 text-sm font-medium ml-8 border-l border-gray-700 pl-8 h-8">
                <a class="hover:text-gray-300 transition" href="index.html">í™ˆ</a>
                <a class="hover:text-gray-300 transition" href="archive.html">ì•„ì¹´ì´ë¸Œ</a>
                <a class="hover:text-gray-300 transition" href="about.html">ì†Œê°œ</a>
            </nav>
        </div>
        <div class="flex items-center gap-3">
            <button class="text-white hover:text-gray-300 transition" onclick="document.documentElement.classList.toggle('dark')" title="ë‹¤í¬ëª¨ë“œ í† ê¸€">
                <span class="material-icons-outlined text-xl">dark_mode</span>
            </button>
            <a href="https://github.com/hong4137/briefing" target="_blank" class="text-white hover:text-gray-300 transition">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
            </a>
        </div>
    </div>
</header>

<!-- Sub Navigation - Topics Bar -->
<div class="bg-surface-dark dark:bg-black text-gray-300 text-xs font-medium border-b border-gray-800">
    <div class="container mx-auto px-4 py-2 overflow-x-auto no-scrollbar whitespace-nowrap flex items-center gap-6">
        <a class="flex items-center gap-2 hover:text-white transition group" href="#">
            <span class="material-icons-outlined text-sm text-accent-red">local_fire_department</span>
            <span>AI / ë°˜ë„ì²´</span>
        </a>
        <div class="w-px h-4 bg-gray-700"></div>
        <a class="flex items-center gap-2 hover:text-white transition group" href="#">
            <span class="material-icons-outlined text-sm text-accent-blue">trending_up</span>
            <span>ë¹…í…Œí¬ / ìŠ¤íƒ€íŠ¸ì—…</span>
        </a>
        <div class="w-px h-4 bg-gray-700"></div>
        <a class="flex items-center gap-2 hover:text-white transition group" href="#">
            <span class="material-icons-outlined text-sm text-accent-green">account_balance</span>
            <span>ê²½ì œ / ê¸ˆìœµ</span>
        </a>
        <div class="w-px h-4 bg-gray-700"></div>
        <a class="flex items-center gap-2 hover:text-white transition group" href="#">
            <span class="material-icons-outlined text-sm text-accent-purple">public</span>
            <span>ë¯¸ì¤‘ ê¸°ìˆ íŒ¨ê¶Œ</span>
        </a>
        <div class="w-px h-4 bg-gray-700"></div>
        <a class="flex items-center gap-2 hover:text-white transition group" href="#">
            <span class="bg-accent-gold text-black text-[10px] font-bold px-1.5 py-0.5 rounded">íŠ¹ë³„íŒ</span>
            <span>CES Â· Davos 2026</span>
        </a>
    </div>
</div>

<main class="container mx-auto px-4 py-8">
    <!-- Loading State -->
    <div id="loading" class="text-center py-20">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-white mx-auto mb-4"></div>
        <p class="text-gray-500">ë¸Œë¦¬í•‘ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>

    <!-- Main Content Grid -->
    <div id="content" class="hidden">
        <!-- Hero Section: Latest Briefing -->
        <section id="hero-section" class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-12 border-b border-border-light dark:border-border-dark pb-12">
            <!-- Main Story -->
            <article id="main-story" class="lg:col-span-6 flex flex-col gap-4">
                <!-- Populated by JS -->
            </article>

            <!-- Side Stories -->
            <div id="side-stories" class="lg:col-span-4 flex flex-col gap-5 lg:border-r border-border-light dark:border-border-dark lg:pr-8">
                <!-- Populated by JS -->
            </div>

            <!-- Headlines -->
            <div class="lg:col-span-2 pl-0 lg:pl-2">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-bold uppercase tracking-widest text-xs text-gray-500 dark:text-gray-400">Headlines</h3>
                </div>
                <ul id="headlines-list" class="space-y-4">
                    <!-- Populated by JS -->
                </ul>
            </div>
        </section>

        <!-- Recent Briefings Section -->
        <section class="mb-16">
            <div class="flex items-center justify-between mb-6 border-b border-black dark:border-white pb-2">
                <h2 class="text-xl font-serif font-black text-black dark:text-white">ìµœê·¼ ë¸Œë¦¬í•‘</h2>
                <a class="text-xs font-bold uppercase tracking-wider hover:text-gray-600 dark:hover:text-gray-300 transition" href="archive.html">ì „ì²´ ë³´ê¸° â†’</a>
            </div>
            <div id="recent-briefings" class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Populated by JS -->
            </div>
        </section>

        <!-- Special Editions Section -->
        <section id="special-section" class="mb-12">
            <div class="flex items-center justify-between mb-6 border-b border-border-light dark:border-border-dark pb-2">
                <h2 class="text-lg font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400">íŠ¹ë³„íŒ</h2>
            </div>
            <div id="special-editions" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Populated by JS -->
            </div>
        </section>
    </div>
</main>

<!-- Footer -->
<footer class="bg-[#121212] text-white py-10 border-t border-gray-800 mt-12">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-start gap-8">
            <div class="max-w-sm">
                <a class="text-xl font-serif font-black mb-3 block" href="#">
                    <span class="text-white">Jae's</span>
                    <span class="text-gray-500 italic">Briefing</span>
                </a>
                <p class="text-gray-400 text-sm leading-relaxed">
                    TechCrunch, CNBC, Bloomberg, Reuters ë“± ì£¼ìš” ì™¸ì‹ ì—ì„œ ë§¤ì¼ ì—„ì„ í•œ AI/ê¸°ìˆ , ê²½ì œ, ë°˜ë„ì²´ ë‰´ìŠ¤ë¥¼ Value Score ê¸°ë°˜ìœ¼ë¡œ íë ˆì´ì…˜í•©ë‹ˆë‹¤.
                </p>
            </div>
            <div class="flex gap-12 text-sm">
                <div class="flex flex-col gap-2">
                    <span class="font-bold text-gray-500 uppercase tracking-wider mb-2 text-xs">Links</span>
                    <a class="text-gray-300 hover:text-white transition" href="archive.html">ì•„ì¹´ì´ë¸Œ</a>
                    <a class="text-gray-300 hover:text-white transition" href="about.html">ì†Œê°œ</a>
                    <a class="text-gray-300 hover:text-white transition" href="https://github.com/hong4137/briefing" target="_blank">GitHub</a>
                </div>
                <div class="flex flex-col gap-2">
                    <span class="font-bold text-gray-500 uppercase tracking-wider mb-2 text-xs">Sources</span>
                    <span class="text-gray-400">TechCrunch</span>
                    <span class="text-gray-400">CNBC</span>
                    <span class="text-gray-400">Reuters</span>
                </div>
            </div>
        </div>
        <div class="border-t border-gray-800 mt-10 pt-6 flex flex-col md:flex-row justify-between items-center text-xs text-gray-500">
            <p>Â© 2026 Jae's Briefing. Curated by Claude with â™¥</p>
            <p class="mt-2 md:mt-0">Value Score ê¸°ë°˜ ë‰´ìŠ¤ íë ˆì´ì…˜ ì‹œìŠ¤í…œ</p>
        </div>
    </div>
</footer>

<script>
    // ë‹¤í¬ëª¨ë“œ ì´ˆê¸°í™”
    if (localStorage.getItem('darkMode') === 'true' || 
        (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
    }

    // ìš”ì¼ í•œê¸€ ë³€í™˜
    const dayNames = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
    
    function formatDate(dateStr) {
        if (dateStr.includes('special')) return 'íŠ¹ë³„íŒ';
        if (dateStr.includes('weekly')) return 'ì£¼ê°„ ë¸Œë¦¬í•‘';
        const date = new Date(dateStr);
        const month = date.getMonth() + 1;
        const day = date.getDate();
        const dayName = dayNames[date.getDay()];
        return `${month}ì›” ${day}ì¼ (${dayName})`;
    }

    function getRelativeTime(dateStr) {
        if (dateStr.includes('special') || dateStr.includes('weekly')) return '';
        const date = new Date(dateStr);
        const now = new Date();
        const diffDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));
        if (diffDays === 0) return 'ì˜¤ëŠ˜';
        if (diffDays === 1) return 'ì–´ì œ';
        if (diffDays < 7) return `${diffDays}ì¼ ì „`;
        return formatDate(dateStr);
    }

    // ë°ì´í„° ë¡œë“œ ë° ë Œë”ë§
    async function loadBriefings() {
        try {
            const response = await fetch('briefings.json');
            const data = await response.json();
            renderContent(data.briefings);
        } catch (error) {
            console.error('Failed to load briefings:', error);
            document.getElementById('loading').innerHTML = `
                <p class="text-red-500">ë¸Œë¦¬í•‘ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>
                <p class="text-gray-500 text-sm mt-2">ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
            `;
        }
    }

    function renderContent(briefings) {
        // ì¼ê°„ ë¸Œë¦¬í•‘ê³¼ íŠ¹ë³„íŒ ë¶„ë¦¬
        const dailyBriefings = briefings.filter(b => !b.date.includes('special') && !b.date.includes('weekly'));
        const specialEditions = briefings.filter(b => b.date.includes('special') || b.date.includes('weekly'));

        // ìµœì‹  ë¸Œë¦¬í•‘
        const latest = dailyBriefings[0];
        const recentOthers = dailyBriefings.slice(1, 5);
        const olderBriefings = dailyBriefings.slice(5, 11);

        // Hero Section - Main Story
        const mainStory = document.getElementById('main-story');
        const latestHighlights = getHighlights(latest);
        
        mainStory.innerHTML = `
            <a href="${latest.date}.html" class="block group">
                <div class="mb-3">
                    <span class="inline-flex items-center gap-1.5 bg-accent-red text-white text-xs font-bold px-2 py-1 rounded">
                        <span class="material-icons-outlined text-sm">local_fire_department</span>
                        ìµœì‹ 
                    </span>
                    <span class="text-gray-500 dark:text-gray-400 text-sm ml-2">${formatDate(latest.date)}</span>
                </div>
                <h1 class="text-2xl lg:text-3xl font-serif font-bold text-gray-900 dark:text-white leading-tight mb-4 group-hover:underline decoration-2 decoration-gray-400 underline-offset-4">
                    ${latest.title}
                </h1>
                <p class="text-gray-600 dark:text-gray-400 text-base leading-relaxed mb-4 line-clamp-3">
                    ${latest.summary}
                </p>
                <div class="flex items-center gap-4 text-xs font-medium text-gray-500 dark:text-gray-500">
                    <span class="flex items-center gap-1">
                        <span class="material-icons-outlined text-sm">article</span>
                        ${latest.stats?.articles || 0}ê°œ ê¸°ì‚¬
                    </span>
                    <span class="flex items-center gap-1">
                        <span class="material-icons-outlined text-sm">category</span>
                        ${latest.stats?.sections || 0}ê°œ ì„¹ì…˜
                    </span>
                    ${latest.stats?.picks ? `
                    <span class="flex items-center gap-1 text-accent-gold">
                        <span class="material-icons-outlined text-sm">diamond</span>
                        ${latest.stats.picks} Pick
                    </span>
                    ` : ''}
                </div>
            </a>
        `;

        // Side Stories (ë‹¤ìŒ 4ê°œ ë¸Œë¦¬í•‘ì˜ í•˜ì´ë¼ì´íŠ¸)
        const sideStories = document.getElementById('side-stories');
        sideStories.innerHTML = recentOthers.map((briefing, idx) => {
            const highlights = getHighlights(briefing);
            const topHighlight = highlights[0];
            return `
                <article class="flex gap-4 group cursor-pointer items-start pb-5 border-b border-border-light dark:border-border-dark last:border-0 last:pb-0">
                    <a href="${briefing.date}.html" class="flex-1">
                        <div class="text-[10px] text-gray-400 mb-1">${formatDate(briefing.date)}</div>
                        <h2 class="font-serif text-base font-bold leading-snug mb-2 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition line-clamp-2">
                            ${topHighlight?.title || briefing.title.split('|')[0].trim()}
                        </h2>
                        <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2">
                            ${topHighlight?.summary || briefing.summary.substring(0, 80)}...
                        </p>
                    </a>
                </article>
            `;
        }).join('');

        // Headlines (ìµœì‹  ë¸Œë¦¬í•‘ì˜ í•˜ì´ë¼ì´íŠ¸ë“¤)
        const headlinesList = document.getElementById('headlines-list');
        headlinesList.innerHTML = latestHighlights.slice(0, 5).map(h => `
            <li class="group cursor-pointer">
                <a href="${h.url || '#'}" target="_blank" class="block">
                    <div class="flex items-start gap-2">
                        <span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-black dark:bg-white flex-shrink-0 group-hover:bg-gray-500 transition"></span>
                        <span class="text-sm font-medium leading-snug group-hover:text-gray-600 dark:group-hover:text-gray-300 transition line-clamp-2">${h.title}</span>
                    </div>
                    ${h.category ? `<span class="text-[10px] text-gray-400 ml-3.5 block mt-1">${getCategoryLabel(h.category)}</span>` : ''}
                </a>
            </li>
        `).join('');

        // Recent Briefings Grid
        const recentGrid = document.getElementById('recent-briefings');
        recentGrid.innerHTML = olderBriefings.map((briefing, idx) => {
            const highlights = getHighlights(briefing);
            if (idx === 0) {
                // Featured card (larger)
                return `
                    <div class="lg:col-span-2 group cursor-pointer">
                        <a href="${briefing.date}.html" class="block bg-surface-light dark:bg-surface-dark rounded-lg p-6 h-full hover:shadow-lg transition">
                            <div class="flex items-center gap-2 mb-3">
                                <span class="text-xs font-bold text-gray-500 dark:text-gray-400">${formatDate(briefing.date)}</span>
                                <span class="w-1 h-1 rounded-full bg-gray-400"></span>
                                <span class="text-xs text-gray-400">${briefing.stats?.articles || 0}ê°œ ê¸°ì‚¬</span>
                            </div>
                            <h3 class="text-xl font-serif font-bold mb-3 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition">
                                ${briefing.title}
                            </h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-4">
                                ${briefing.summary}
                            </p>
                            <div class="flex flex-wrap gap-2">
                                ${highlights.slice(0, 3).map(h => `
                                    <span class="text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">${truncate(h.title, 20)}</span>
                                `).join('')}
                            </div>
                        </a>
                    </div>
                `;
            }
            // Regular cards
            return `
                <article class="group cursor-pointer">
                    <a href="${briefing.date}.html" class="block">
                        <div class="text-xs text-gray-400 mb-2">${formatDate(briefing.date)}</div>
                        <h4 class="font-serif text-lg font-bold leading-snug mb-2 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition line-clamp-2">
                            ${briefing.title.split('|')[0].trim()}
                        </h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400 line-clamp-2">
                            ${briefing.summary.substring(0, 100)}...
                        </p>
                        <div class="mt-3 flex items-center gap-2 text-xs text-gray-400">
                            <span>${briefing.stats?.articles || 0}ê°œ ê¸°ì‚¬</span>
                            ${briefing.stats?.picks ? `<span class="text-accent-gold">ğŸ’ ${briefing.stats.picks}</span>` : ''}
                        </div>
                    </a>
                </article>
            `;
        }).join('');

        // Special Editions
        const specialGrid = document.getElementById('special-editions');
        if (specialEditions.length > 0) {
            specialGrid.innerHTML = specialEditions.map(edition => {
                const isWeekly = edition.date.includes('weekly');
                const color = isWeekly ? 'accent-blue' : 'accent-gold';
                const icon = isWeekly ? 'date_range' : 'star';
                const label = isWeekly ? 'ì£¼ê°„ ë¸Œë¦¬í•‘' : 'íŠ¹ë³„íŒ';
                
                return `
                    <article class="group cursor-pointer">
                        <a href="${edition.date}.html" class="block">
                            <div class="relative overflow-hidden rounded-lg mb-3 bg-gradient-to-br from-gray-800 to-gray-900 p-6">
                                <span class="material-icons-outlined text-6xl text-white/10 absolute -right-2 -bottom-2">${icon}</span>
                                <span class="inline-flex items-center gap-1 bg-${color} text-white text-xs font-bold px-2 py-1 rounded mb-2">
                                    <span class="material-icons-outlined text-sm">${icon}</span>
                                    ${label}
                                </span>
                                <h3 class="font-serif text-lg font-bold text-white leading-tight">
                                    ${edition.title.split(':')[0]}
                                </h3>
                            </div>
                            <p class="text-sm text-gray-500 dark:text-gray-400 line-clamp-2">
                                ${edition.summary}
                            </p>
                        </a>
                    </article>
                `;
            }).join('');
        } else {
            document.getElementById('special-section').style.display = 'none';
        }

        // Show content, hide loading
        document.getElementById('loading').classList.add('hidden');
        document.getElementById('content').classList.remove('hidden');
    }

    // Helper functions
    function getHighlights(briefing) {
        if (!briefing.highlights) return [];
        return briefing.highlights.map(h => {
            if (typeof h === 'string') {
                return { title: h, summary: '', category: null, url: null };
            }
            return h;
        });
    }

    function getCategoryLabel(category) {
        const labels = {
            'top': 'ğŸ”¥ TOP',
            'pick': 'ğŸ’ Pick',
            'trend': 'ğŸ“ˆ Trend'
        };
        return labels[category] || category;
    }

    function truncate(str, len) {
        if (!str) return '';
        return str.length > len ? str.substring(0, len) + '...' : str;
    }

    // Load on page ready
    document.addEventListener('DOMContentLoaded', loadBriefings);
</script>

</body>
</html>
