<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏïÑÏπ¥Ïù¥Î∏å | Jae's Foreign News Briefing</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Playfair+Display:wght@700;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-card: #1a1a24;
            --bg-card-hover: #222230;
            --accent-red: #ff3b3b;
            --accent-orange: #ff8c42;
            --accent-gold: #ffd700;
            --accent-blue: #4a9eff;
            --accent-purple: #a855f7;
            --accent-green: #22c55e;
            --accent-cyan: #06b6d4;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #666680;
            --border-color: #2a2a3a;
            --gradient-fire: linear-gradient(135deg, #ff3b3b, #ff8c42);
            --gradient-special: linear-gradient(135deg, #ffd700, #ff8c42);
            --gradient-weekly: linear-gradient(135deg, #06b6d4, #22c55e);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Navigation */
        .nav {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(20px);
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }

        .nav-logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-fire);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .nav-logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            font-weight: 900;
            background: var(--gradient-fire);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-links a:hover { color: var(--text-primary); }
        .nav-links a.active { color: var(--accent-red); }

        /* Hero */
        .hero {
            padding: 4rem 2rem;
            text-align: center;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        .hero p {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        /* Main Content */
        .archive-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Special Section */
        .special-section {
            margin-bottom: 3rem;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .section-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
        }

        .special-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .special-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .special-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .special-card.special::before {
            background: var(--gradient-special);
        }

        .special-card.weekly::before {
            background: var(--gradient-weekly);
        }

        .special-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-gold);
            box-shadow: 0 16px 48px rgba(255, 215, 0, 0.15);
        }

        .special-card.weekly:hover {
            border-color: var(--accent-cyan);
            box-shadow: 0 16px 48px rgba(6, 182, 212, 0.15);
        }

        .special-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.4rem 0.8rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1rem;
        }

        .special-badge.special {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 140, 66, 0.2));
            color: var(--accent-gold);
        }

        .special-badge.weekly {
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(34, 197, 94, 0.2));
            color: var(--accent-cyan);
        }

        .special-card h3 {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .special-card .summary {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .special-card .period {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .special-card .stats {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Month Group */
        .month-group {
            margin-bottom: 3rem;
        }

        .month-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .month-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .month-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
        }

        /* Briefing List */
        .briefing-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .briefing-item {
            display: grid;
            grid-template-columns: 100px 1fr auto;
            gap: 1.5rem;
            align-items: center;
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
        }

        .briefing-item:hover {
            background: var(--bg-card-hover);
            border-color: var(--accent-blue);
            transform: translateX(8px);
        }

        .briefing-date {
            text-align: center;
        }

        .briefing-date .day {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-blue);
        }

        .briefing-date .weekday {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .briefing-content h3 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .briefing-content p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .briefing-meta {
            text-align: right;
            font-size: 0.85rem;
            color: var(--text-muted);
            white-space: nowrap;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 3rem 2rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
        }

        .footer .heart { color: var(--accent-red); }

        /* Loading */
        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-muted);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-content { flex-direction: column; gap: 1rem; }
            .nav-links { gap: 1rem; }
            .hero h1 { font-size: 2rem; }
            .briefing-item { 
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            .briefing-date { text-align: left; }
            .briefing-meta { text-align: left; }
            .special-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <a href="index.html" class="nav-logo">
                <div class="nav-logo-icon">üì∞</div>
                <span class="nav-logo-text">Jae's Briefing</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Ìôà</a></li>
                <li><a href="archive.html" class="active">ÏïÑÏπ¥Ïù¥Î∏å</a></li>
                <li><a href="about.html">ÏÜåÍ∞ú</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero">
        <h1>üìö ÏïÑÏπ¥Ïù¥Î∏å</h1>
        <p>ÏßÄÎÇú Ïô∏Ïã† Î∏åÎ¶¨Ìïë Î™®ÏïÑÎ≥¥Í∏∞</p>
    </section>

    <!-- Main Content -->
    <main class="archive-content">
        <!-- Special & Weekly Section -->
        <section class="special-section" id="special-section" style="display: none;">
            <div class="section-header">
                <div class="section-icon" style="background: var(--gradient-special);">‚≠ê</div>
                <h2 class="section-title">ÌäπÎ≥ÑÌåê & Ï£ºÍ∞Ñ Î∏åÎ¶¨Ìïë</h2>
            </div>
            <div id="special-container" class="special-grid">
                <!-- Dynamically populated -->
            </div>
        </section>

        <!-- Daily Briefings by Month -->
        <div id="archive-container">
            <div class="loading">Î∏åÎ¶¨ÌïëÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>Curated by Claude with <span class="heart">‚ô•</span></p>
    </footer>

    <script>
        async function loadArchive() {
            try {
                const response = await fetch('briefings.json');
                const data = await response.json();
                
                // Render specials and weekly
                renderSpecials(data.specials || [], data.weekly || []);
                
                // Render daily briefings
                if (data.briefings.length === 0) {
                    document.getElementById('archive-container').innerHTML = 
                        '<div class="empty-state">ÏïÑÏßÅ Î∏åÎ¶¨ÌïëÏù¥ ÏóÜÏäµÎãàÎã§.</div>';
                    return;
                }

                renderBriefings(data.briefings);

            } catch (error) {
                console.error('Error loading archive:', error);
                document.getElementById('archive-container').innerHTML = 
                    '<div class="empty-state">Î∏åÎ¶¨ÌïëÏùÑ Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.</div>';
            }
        }

        function renderSpecials(specials, weekly) {
            const allItems = [];

            // Add weekly items
            weekly.forEach(w => {
                allItems.push({
                    type: 'weekly',
                    date: w.date,
                    title: w.title,
                    summary: w.summary,
                    period: w.period,
                    stats: w.stats,
                    badge: 'üìÖ Ï£ºÍ∞Ñ Î∏åÎ¶¨Ìïë',
                    link: `archive/${w.date}.html`
                });
            });

            // Add special items
            specials.forEach(s => {
                allItems.push({
                    type: 'special',
                    date: s.date,
                    title: s.title,
                    summary: s.summary,
                    period: s.period,
                    stats: s.stats,
                    badge: '‚≠ê ÌäπÎ≥ÑÌåê',
                    link: `archive/${s.date}.html`
                });
            });

            if (allItems.length === 0) {
                document.getElementById('special-section').style.display = 'none';
                return;
            }

            document.getElementById('special-section').style.display = 'block';

            document.getElementById('special-container').innerHTML = allItems.map(item => `
                <a href="${item.link}" class="special-card ${item.type}">
                    <div class="special-badge ${item.type}">${item.badge}</div>
                    <h3>${item.title}</h3>
                    <p class="summary">${item.summary}</p>
                    <div class="period">üìÜ ${item.period}</div>
                    <div class="stats">
                        <span>üì∞ ${item.stats.articles || item.stats.clusters || 0} ${item.type === 'weekly' ? 'ÌÅ¥Îü¨Ïä§ÌÑ∞' : 'Í∏∞ÏÇ¨'}</span>
                        <span>üìë ${item.stats.sections || item.stats.clusters || 0} ÏÑπÏÖò</span>
                    </div>
                </a>
            `).join('');
        }

        function renderBriefings(briefings) {
            // Group by month
            const months = {};
            
            briefings.forEach(b => {
                // Skip special editions (non-date format)
                if (!b.date.match(/^\d{4}-\d{2}-\d{2}$/)) return;
                
                const monthKey = b.date.substring(0, 7); // "2026-01"
                if (!months[monthKey]) {
                    months[monthKey] = [];
                }
                months[monthKey].push(b);
            });

            // Sort months descending
            const sortedMonths = Object.keys(months).sort().reverse();

            const monthNames = {
                '01': '1Ïõî', '02': '2Ïõî', '03': '3Ïõî', '04': '4Ïõî',
                '05': '5Ïõî', '06': '6Ïõî', '07': '7Ïõî', '08': '8Ïõî',
                '09': '9Ïõî', '10': '10Ïõî', '11': '11Ïõî', '12': '12Ïõî'
            };

            let html = '';

            sortedMonths.forEach(monthKey => {
                const [year, month] = monthKey.split('-');
                const monthBriefings = months[monthKey];
                
                // Sort by date descending
                monthBriefings.sort((a, b) => b.date.localeCompare(a.date));

                html += `
                    <div class="month-group">
                        <div class="month-header">
                            <div class="month-icon">üìÖ</div>
                            <h2 class="month-title">${year}ÎÖÑ ${monthNames[month]}</h2>
                        </div>
                        <div class="briefing-list">
                            ${monthBriefings.map(b => `
                                <a href="archive/${b.date}.html" class="briefing-item">
                                    <div class="briefing-date">
                                        <div class="day">${b.date.substring(5)}</div>
                                        <div class="weekday">(${b.day})</div>
                                    </div>
                                    <div class="briefing-content">
                                        <h3>${b.title}</h3>
                                        <p>${b.summary}</p>
                                    </div>
                                    <div class="briefing-meta">
                                        ${b.stats.articles} Í∏∞ÏÇ¨ &nbsp; ${b.stats.sections} ÏÑπÏÖò‚Üí
                                    </div>
                                </a>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            document.getElementById('archive-container').innerHTML = html;
        }

        // Load on page ready
        loadArchive();
    </script>
</body>
</html>
